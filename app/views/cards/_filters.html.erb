<%= content_tag :div, id: "filter" do %>
  <h3>Filtres <span class="show">voir</span></h3>
  <ul>
    <li>
      <h4>Types</h4>  
    <li>
      <% CardType.all.each do |card_type| %>
        <div class="field">
          <input id='<%= "card_type_#{card_type.id}" %>' type="checkbox" checklist-change="search()"
            checklist-model="search.types" checklist-value="<%= card_type.id %>">
          <label for='<%= "card_type_#{card_type.id}" %>' class="<%= type_color(card_type.name) %>">
            <%= card_type.name %>
          </label>
        </div>
      <% end %>
    </li>
  </ul>

  <%= render 'canton_filter' %>

  <ul>
    <li>
      <h4>Tags</h4>  
    <li>
      <% Tag.order('popularity desc').last(10).each do |tag| %>
        <div class="field">
          <input id='<%= "tag_#{tag.id}" %>' type="checkbox" checklist-change="search()"
            checklist-model="search.tags" checklist-value="<%= tag.id %>">
          <label for='<%= "tag_#{tag.id}" %>'><%= tag.name %></label>
        </div>
      <% end %>
    </li>
  </ul>
<% end %>