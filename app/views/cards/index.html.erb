<div data-controller="search" data-search-list-controller="cards--list">
  <%= form_with url: "/reseau.json", method: :get, local: true, data: { target: "search.form" } do |f| %>

    <%= f.text_field :name, placeholder: "Taper le nom d'un groupe", "data-target": "search.input" %>

    <%= f.collection_check_boxes :card_types, Card.card_types, :last, :first, {}, "data-target": "search.input" do |b| %>
      <%= b.label { t("card.card_types.#{b.text}") } %>
      <%= b.check_box %>
    <% end %>

    <%= f.collection_check_boxes :cantons, Canton.all, :id, :name, {}, "data-target": "search.input" %>

    <%= f.collection_check_boxes :tags, Tag.order("popularity desc").first(10), :id, :name, {}, "data-target": "search.input" %>

  <% end %>

  <div data-target="search.list" data-cards--list-page="1" data-controller="cards--list">
    <div hidden data-target="cards--list.itemTemplate">
      <div data-target="cards--list.name"></div>
      <div data-target="cards--list.type"></div>
    </div>
    <div data-target="cards--list.items">
    </div>
    <div class="pagination">
      <button class="nav" data-target="cards--list.previous" data-action="cards--list#previous">Précédent</button>
      <div hidden data-target="cards--list.numberTemplate">
        <a data-target="cards--list.number" data-action="cards--list#go" class="number"></a>
      </div>
      <div data-target="cards--list.numbers">
      </div>
      <button class="nav" data-target="cards--list.next" data-action="cards--list#next">Suivant</button>
    </div>
  </div>
  
</div>
